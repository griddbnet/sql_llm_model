(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9855:function(e,t,s){Promise.resolve().then(s.bind(s,4096))},4096:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var l=s(7437),r=s(2265),a=s(9343),n=s(632),o=s(8396),i=s(124),c=s(7485),d=s(5023),m=e=>{let{modelTime:t,queryTime:s,queryResults:a,formedQuery:n}=e,o=[];for(let e=0;e<a[0].length;e++){let r=n.split(" "),a={accessorKey:"results-".concat(e),header:r[1],muiTableBodyCellProps:{align:"center"},muiTableHeadCellProps:{align:"center"},Footer:()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex-col",children:[(0,l.jsxs)("div",{className:"flex",children:[" ","Model Time: ".concat(t.toFixed(2),"s")]}),(0,l.jsxs)("div",{className:"flex",children:[" ","Query Time: ".concat(s.toFixed(2),"s")]})]})})};o.push(a)}let i=(0,r.useMemo)(()=>o,[a,o]),c=(0,r.useMemo)(()=>{let e=Array(a.length);return a.forEach((t,s)=>{let l={};t.forEach((e,t)=>{l["results-".concat(t)]=e.toString()}),e[s]=l}),e},[a]),m=(0,d.X0)({columns:i,data:c,enableKeyboardShortcuts:!1,enableColumnActions:!1,enableColumnFilters:!1,enableTopToolbar:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},mrtTheme:()=>({baseBackgroundColor:"#000"}),muiTableProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",caption:{captionSide:"top"},color:"white"}},muiTableHeadCellProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",fontWeight:"bold",color:"white",backgroundColor:"#000"}},muiTableBodyCellProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",color:"white",fontSize:"20px"}}});return(0,l.jsx)(d.HB,{table:m})};let x=(0,n.Z)({palette:{mode:"dark"}}),u=[{num:1,question:"What is the highest bytesSent for server baz?",context:"CREATE TABLE head (name VARCHAR, born_state VARCHAR, age VARCHAR)"},{num:2,context:"CREATE TABLE IF NOT EXISTS devices (device_id INTEGER, ts TIMESTAMP, co DOUBLE, humidity DOUBLE,light BOOL,lpg DOUBLE,motion BOOL,smoke DOUBLE,temp DOUBLE);",question:"What is the average contentLength in March 9, 2009 for the server foo?"},{num:3,context:"CREATE TABLE IF NOT EXISTS iot_meter_foo (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE); CREATE TABLE IF NOT EXISTS iot_meter_bar (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE); CREATE TABLE IF NOT EXISTS iot_meter_baz (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE);",question:"How many status code 404 on server bar on April 4, 2010?"}];function h(){let[e,t]=r.useState(""),[s,n]=r.useState(!1),[d,h]=r.useState([]),[b,p]=r.useState(0),[E,f]=r.useState(0),[g,j]=r.useState(!1),{register:T,handleSubmit:y,formState:{errors:N}}=(0,a.cI)();return(0,l.jsxs)(o.Z,{theme:x,children:[(0,l.jsx)(i.ZP,{}),(0,l.jsxs)("button",{className:"p-2 absolute left-0 top-24 bg-gray-400 rounded-r-lg  bg-gray-300 cursor-pointer text-align-center",style:{display:s?"none":"block"},onClick:()=>n(!s),children:[(0,l.jsx)("span",{className:"text-slate-900",children:" Show "}),(0,l.jsx)("br",{}),"  ",(0,l.jsx)("span",{className:"text-slate-900",children:" Examples"})]}),(0,l.jsx)("div",{className:"absolute left-0 top-24 bg-gray-400 max-w-96 rounded-sm z-20",style:{display:s?"block":"none"},children:(0,l.jsxs)("div",{className:"m-5",children:[(0,l.jsx)("button",{className:"absolute top-0 right-0 m-1 px-2 py-1 border border-gray-600 cursor-pointer bg-gray-500",onClick:()=>n(!s),children:"X"}),(0,l.jsx)("span",{className:"text-2xl text-slate-900",children:" Examples "}),(0,l.jsx)("ol",{className:"text-md text-slate-800",children:u.map(e=>(0,l.jsx)("div",{className:"mx-2 my-6 border border-dotted",children:(0,l.jsxs)("li",{className:"m-2",children:[(0,l.jsx)("span",{className:"underline",children:"question:"}),"  ",(0,l.jsxs)("span",{className:"font-semibold",children:[" ",e.question," "]})]})},e.num))})]})}),(0,l.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-start p-24",children:(0,l.jsxs)("div",{className:"flex w-full max-w-7xl p-10 items-center lg:flex justify-start border border-stone-700 bg-slate-900 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-col m-2 min-h-[300px]",children:[(0,l.jsx)("h1",{className:"text-neutral-200 my-5 text-xl justify-center",children:" Ask A Question "}),(0,l.jsxs)("form",{onSubmit:y(e=>{console.log(e),j(!0),fetch("".concat("/nlquery","?question=").concat(e.question),{method:"GET",mode:"no-cors",cache:"no-cache"}).then(e=>e.json()).then(e=>{t(e.query),p(e.model_time),f(e.query_time),h(e.results),console.log(e),j(!1)})}),children:[(0,l.jsxs)("section",{className:"flex flex-col justify-center align-center gap-4",children:[(0,l.jsx)("textarea",{className:"text-stone-950 p-2 w-80 h-20",defaultValue:"What is the highest bytesSent for server baz?",...T("question",{required:!0})}),N.question&&(0,l.jsx)("span",{children:"This field is required"})]}),(0,l.jsx)("section",{className:"flex justify-center",children:g?(0,l.jsx)(c.s5,{visible:!0,width:"48",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading"}):(0,l.jsx)("input",{className:"bg-slate-600 px-3 py-2 my-4 rounded-md cursor-pointer",type:"submit"})})]})]}),(0,l.jsxs)("div",{className:"flex-col m-2 min-h-[300px]",children:[(0,l.jsx)("h3",{className:"text-neutral-200 my-5 text-xl justify-center",children:" Generated SQL Query"}),(0,l.jsx)("div",{className:"bg-black rounded-md p-4 border border-slate-600 shadow-lg shadow-indigo-500/40 my-5 min-w-96 hover:z-50 ",children:(0,l.jsxs)("pre",{className:"text-blue-300 my-6 text-xl font-semibold leading-8 max-h-64 max-w-2xl overflow-auto whitespace-pre-wrap ",children:[" ",e," "]})})]}),(0,l.jsx)("div",{className:"flex-col m-2 items-center min-h-[300px]",children:d.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"text-neutral-200 my-5 text-xl justify-center",children:" Results"}),(0,l.jsx)(m,{queryResults:d,modelTime:b,queryTime:E,formedQuery:e})]}):(0,l.jsx)(l.Fragment,{})})]})})]})}}},function(e){e.O(0,[571,712,622,971,23,744],function(){return e(e.s=9855)}),_N_E=e.O()}]);