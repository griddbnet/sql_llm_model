(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{76032:function(e,t,s){Promise.resolve().then(s.bind(s,94096))},94096:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var l=s(57437),a=s(2265),o=s(39343),n=s(90632),r=s(68396),i=s(20124),c=s(45023),d=e=>{let{queryResults:t}=e,s=[];for(let e=0;e<t[0].length;e++){let t={accessorKey:"col-#-".concat(e),header:"col-#-".concat(e),muiTableBodyCellProps:{align:"center"},muiTableHeadCellProps:{align:"center"}};s.push(t)}let o=(0,a.useMemo)(()=>s,[t,s]),n=(0,a.useMemo)(()=>{let e=Array(t.length);return t.forEach((t,s)=>{let l={};t.forEach((e,t)=>{l["col-#-".concat(t)]=e.toString()}),e[s]=l}),e},[t]),r=(0,c.X0)({columns:o,data:n,enableKeyboardShortcuts:!1,enableColumnActions:!1,enableColumnFilters:!1,enableTopToolbar:!1,enablePagination:!0,enableSorting:!1,positionPagination:"both",muiPaginationProps:{color:"secondary",shape:"rounded",showRowsPerPage:!0},muiTableBodyRowProps:{hover:!1},mrtTheme:()=>({baseBackgroundColor:"rgba(3, 44, 43, 1)"}),muiTableProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",caption:{captionSide:"top"},color:"white"}},muiTableHeadCellProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",fontWeight:"bold",color:"white",backgroundColor:"rgba(3, 55, 43, 1)"}},muiTableBodyCellProps:{sx:{border:"1px solid rgba(81, 81, 81, .5)",color:"white"}}});return(0,l.jsx)(c.P2,{table:r})};let m=(0,n.Z)({palette:{mode:"dark"}}),h=[{num:1,question:"Show all people older than 30",context:"CREATE TABLE head (name VARCHAR, born_state VARCHAR, age VARCHAR)"},{num:2,context:"CREATE TABLE IF NOT EXISTS devices (device_id INTEGER, ts TIMESTAMP, co DOUBLE, humidity DOUBLE,light BOOL,lpg DOUBLE,motion BOOL,smoke DOUBLE,temp DOUBLE);",question:"What is the average lpg ?"},{num:3,context:"CREATE TABLE IF NOT EXISTS iot_meter_foo (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE); CREATE TABLE IF NOT EXISTS iot_meter_bar (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE); CREATE TABLE IF NOT EXISTS iot_meter_baz (meter_id INTEGER, ts TIMESTAMP, kwh DOUBLE, temp DOUBLE, aqi DOUBLE);",question:"When is the highest aqi for all meters at location baz?"},{num:4,context:"CREATE TABLE IF NOT EXISTS bill_records (billing_date TIMESTAMP, location STRING, total_kwh DOUBLE, amount DOUBLE, daily_kwh DOUBLE);",question:"What is the highest total_kwh in 2020 for all bill_records?"}];function u(){let[e,t]=a.useState(""),[s,n]=a.useState(!1),[c,u]=a.useState([]),{register:x,handleSubmit:b,formState:{errors:p}}=(0,o.cI)(),E=async()=>{fetch("".concat("/nlquery","?"),{method:"GET",mode:"no-cors",cache:"no-cache"}).then(e=>e.json()).then(e=>{console.log("raw results: ",e),u(e)})};return(0,l.jsxs)(r.Z,{theme:m,children:[(0,l.jsx)(i.ZP,{}),(0,l.jsxs)("button",{className:"p-2 absolute left-0 top-24 bg-gray-400 rounded-r-lg  bg-gray-300 cursor-pointer text-align-center",style:{display:s?"none":"block"},onClick:()=>n(!s),children:[(0,l.jsx)("span",{className:"text-slate-900",children:" Show "}),(0,l.jsx)("br",{}),"  ",(0,l.jsx)("span",{className:"text-slate-900",children:" Examples"})]}),(0,l.jsx)("div",{className:"absolute left-0 top-24 bg-gray-400 max-w-96 rounded-sm z-20",style:{display:s?"block":"none"},children:(0,l.jsxs)("div",{className:"m-5",children:[(0,l.jsx)("button",{className:"absolute top-0 right-0 m-1 px-2 py-1 border border-gray-600 cursor-pointer bg-gray-500",onClick:()=>n(!s),children:"X"}),(0,l.jsx)("span",{className:"text-2xl text-slate-900",children:" Examples "}),(0,l.jsx)("ol",{className:"text-md text-slate-800",children:h.map(e=>(0,l.jsx)("div",{className:"mx-2 my-6 border border-dotted",children:(0,l.jsxs)("li",{className:"m-2",children:[(0,l.jsx)("span",{className:"underline",children:"question:"}),"  ",(0,l.jsxs)("span",{className:"font-semibold",children:[" ",e.question," "]})]})},e.num))})]})}),(0,l.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-start p-24",children:[(0,l.jsxs)("div",{className:"flex w-full max-w-5xl items-center lg:flex justify-between",children:[(0,l.jsxs)("div",{className:"flex-col",children:[(0,l.jsx)("h1",{className:"text-neutral-200 my-5 text-xl justify-center",children:" Ask A Question "}),(0,l.jsxs)("form",{onSubmit:b(e=>{console.log(e),fetch("".concat("/query","?question=").concat(e.question),{method:"GET",mode:"no-cors",cache:"no-cache"}).then(e=>e.text()).then(e=>{t(e)})}),children:[(0,l.jsxs)("section",{className:"flex flex-col justify-center align-center gap-4",children:[(0,l.jsx)("textarea",{className:"text-stone-950 p-2 w-80 h-20",defaultValue:"What is the highest value for event_bar in April 2016?",...x("question",{required:!0})}),p.question&&(0,l.jsx)("span",{children:"This field is required"})]}),(0,l.jsx)("section",{className:"flex justify-center",children:(0,l.jsx)("input",{className:"bg-slate-600 px-3 py-2 my-4 rounded-md cursor-pointer",type:"submit"})})]})]}),(0,l.jsxs)("div",{className:"flex-col",children:[(0,l.jsx)("h3",{className:"text-neutral-200 my-5 text-xl justify-center",children:" Generated SQL Query"}),(0,l.jsx)("div",{className:"bg-stone-900 rounded-md p-6  border border-slate-600 shadow-lg shadow-indigo-500/40 my-5 min-w-96 hover:z-50 ",children:(0,l.jsxs)("pre",{className:"text-blue-300 my-6 text-xl font-semibold leading-8 max-h-64 max-w-2xl overflow-auto",children:[" ",e," "]})}),(0,l.jsx)("section",{className:"flex justify-center",children:e.length>0?(0,l.jsx)("button",{className:"rounded-md bg-slate-800 justify-center py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2",onClick:E,children:"RUN"}):(0,l.jsx)(l.Fragment,{})})]})]}),(0,l.jsx)("div",{className:"flex-col w-full my-5 max-w-5xl lg:flex",children:c.length>0?(0,l.jsx)(d,{queryResults:c}):(0,l.jsx)(l.Fragment,{})})]})]})}}},function(e){e.O(0,[712,424,971,23,744],function(){return e(e.s=76032)}),_N_E=e.O()}]);